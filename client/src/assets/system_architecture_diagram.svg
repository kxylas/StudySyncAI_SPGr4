<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="900" viewBox="0 0 1000 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Styles -->
  <style>
    .box { fill: #003366; stroke: #F5A623; stroke-width: 2; rx: 10; ry: 10; }
    .alt-box { fill: #222222; stroke: #F5A623; stroke-width: 2; rx: 10; ry: 10; }
    .light-box { fill: #ffffff; stroke: #003366; stroke-width: 2; rx: 10; ry: 10; }
    .database { fill: #003366; stroke: #F5A623; stroke-width: 2; rx: 5; ry: 15; }
    .text { fill: #F5A623; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; dominant-baseline: middle; }
    .dark-text { fill: #003366; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; dominant-baseline: middle; }
    .white-text { fill: white; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; dominant-baseline: middle; }
    .title-text { fill: #F5A623; font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; dominant-baseline: middle; }
    .layer-text { fill: #444444; font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; dominant-baseline: middle; }
    .small-text { fill: #F5A623; font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; dominant-baseline: middle; }
    .arrow { stroke: #F5A623; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    .dashed-arrow { stroke: #F5A623; stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
    .bidirectional { stroke: #F5A623; stroke-width: 2; fill: none; marker-end: url(#arrowhead); marker-start: url(#arrowhead); }
    .layer { fill: rgba(245, 166, 35, 0.1); stroke: #F5A623; stroke-width: 1; rx: 15; ry: 15; }
  </style>
  
  <!-- Arrow Marker Definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#F5A623" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="500" y="40" class="title-text">msuStudySyncAI System Architecture</text>
  
  <!-- Architecture Layers -->
  <!-- Client Layer -->
  <rect x="50" y="80" width="900" height="220" class="layer" />
  <text x="110" y="105" class="layer-text">Client Layer</text>
  
  <!-- Server Layer -->
  <rect x="50" y="330" width="900" height="250" class="layer" />
  <text x="110" y="355" class="layer-text">Server Layer</text>
  
  <!-- Data Layer -->
  <rect x="50" y="610" width="900" height="220" class="layer" />
  <text x="110" y="635" class="layer-text">Data Layer</text>
  
  <!-- Client Layer Components -->
  <rect x="150" y="130" width="160" height="60" class="alt-box" />
  <text x="230" y="160" class="text">React Frontend UI</text>
  
  <rect x="350" y="130" width="160" height="60" class="alt-box" />
  <text x="430" y="160" class="text">Components</text>
  
  <rect x="550" y="130" width="160" height="60" class="alt-box" />
  <text x="630" y="160" class="text">Contexts/Hooks</text>
  
  <rect x="750" y="130" width="160" height="60" class="alt-box" />
  <text x="830" y="160" class="text">Tailwind CSS</text>
  
  <rect x="150" y="220" width="160" height="60" class="alt-box" />
  <text x="230" y="250" class="text">Shadcn/UI Components</text>
  
  <rect x="350" y="220" width="160" height="60" class="alt-box" />
  <text x="430" y="250" class="text">React Query</text>
  
  <rect x="550" y="220" width="160" height="60" class="alt-box" />
  <text x="630" y="250" class="text">Wouter Router</text>
  
  <rect x="750" y="220" width="160" height="60" class="alt-box" />
  <text x="830" y="250" class="text">Vite Build Tool</text>
  
  <!-- Server Layer Components -->
  <rect x="150" y="380" width="160" height="60" class="box" />
  <text x="230" y="410" class="text">Express.js Backend</text>
  
  <rect x="350" y="380" width="160" height="60" class="box" />
  <text x="430" y="410" class="text">API Controllers</text>
  
  <rect x="550" y="380" width="160" height="60" class="box" />
  <text x="630" y="410" class="text">Services</text>
  
  <rect x="750" y="380" width="160" height="60" class="box" />
  <text x="830" y="410" class="text">Middleware</text>
  
  <rect x="150" y="470" width="360" height="80" class="light-box" />
  <text x="330" y="490" class="dark-text">OpenAI Integration</text>
  <text x="330" y="510" class="dark-text" style="font-size: 12px;">(Chatbot, Text-to-Speech, Knowledge Extraction)</text>
  
  <rect x="550" y="470" width="360" height="80" class="light-box" />
  <text x="730" y="490" class="dark-text">Self-Learning System</text>
  <text x="730" y="510" class="dark-text" style="font-size: 12px;">(Knowledge Base Management, Confidence Scoring)</text>
  
  <!-- Data Layer Components -->
  <ellipse cx="250" cy="680" rx="80" ry="40" class="database" />
  <text x="250" y="680" class="text">PostgreSQL</text>
  
  <rect x="350" y="650" width="140" height="60" class="alt-box" />
  <text x="420" y="680" class="text">Drizzle ORM</text>
  
  <rect x="520" y="650" width="140" height="60" class="alt-box" />
  <text x="590" y="680" class="text">Knowledge Tables</text>
  
  <rect x="690" y="650" width="140" height="60" class="alt-box" />
  <text x="760" y="680" class="text">User Data</text>
  
  <rect x="380" y="740" width="140" height="60" class="alt-box" />
  <text x="450" y="770" class="text">File Storage</text>
  
  <rect x="550" y="740" width="140" height="60" class="alt-box" />
  <text x="620" y="770" class="text">Chat History</text>
  
  <!-- Connections -->
  <!-- Client to Server -->
  <path d="M 230 190 L 230 380" class="bidirectional" />
  <path d="M 430 190 L 430 380" class="bidirectional" />
  <path d="M 630 190 L 630 380" class="bidirectional" />
  <path d="M 830 190 L 830 380" class="bidirectional" />
  
  <!-- Server to Data -->
  <path d="M 230 440 L 230 640" class="bidirectional" />
  <path d="M 430 440 L 430 650" class="bidirectional" />
  <path d="M 590 550 L 590 650" class="bidirectional" />
  <path d="M 760 550 L 760 650" class="bidirectional" />
  
  <!-- OpenAI to Self-Learning -->
  <path d="M 510 510 L 550 510" class="bidirectional" />
  
  <!-- Data Layer Connections -->
  <path d="M 330 680 L 350 680" class="arrow" />
  <path d="M 490 680 L 520 680" class="arrow" />
  <path d="M 660 680 L 690 680" class="arrow" />
  <path d="M 450 740 L 450 710" class="arrow" />
  <path d="M 620 740 L 620 710" class="arrow" />
  
  <!-- Legend -->
  <rect x="80" y="820" width="20" height="20" class="box" />
  <text x="110" y="830" class="small-text" text-anchor="start">Backend Components</text>
  
  <rect x="250" y="820" width="20" height="20" class="alt-box" />
  <text x="280" y="830" class="small-text" text-anchor="start">Frontend/Data Components</text>
  
  <rect x="480" y="820" width="20" height="20" class="light-box" />
  <text x="510" y="830" class="small-text" text-anchor="start">Integration Components</text>
  
  <ellipse cx="600" cy="830" rx="10" ry="10" class="database" />
  <text x="630" y="830" class="small-text" text-anchor="start">Database</text>
  
  <line x1="680" y1="830" x2="710" y2="830" class="bidirectional" />
  <text x="760" y="830" class="small-text" text-anchor="start">Bidirectional Flow</text>
  
  <line x1="790" y1="830" x2="820" y2="830" class="arrow" />
  <text x="870" y="830" class="small-text" text-anchor="start">Data Flow</text>
</svg>